<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js"
            integrity="sha512-sW/w8s4RWTdFFSduOTGtk4isV1+190E/GghVffMA9XczdJ2MDzSzLEubKAs5h0wzgSJOQTRYyaz73L3d6RtJSg=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–ì—Ä–∞—Ñ–∏–∫ –æ–±–º–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –†—É–±–ª—å>–¢–µ–Ω–≥–µ</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y17F1LVVVY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y17F1LVVVY');
</script>
</head>
<style>
    #num2, #sum, #btn{
    font-size:13pt;
    }
    .border-donate{
    border-left: 5px solid #4285F4;
    border-radius: 10px 0px 0px 10px;
    padding:10px;
    }
</style>
<body>
{% for item in rows|reverse %}
{% if loop.index <=1 %}
<h3>
    –°–µ–≥–æ–¥–Ω—è {{tdate}}<br/><br/>
    –ö—É—Ä—Å –æ—Ç {{item.date|date_format("%d.%m.%Y")}}
</h3>
<h3>–¢–µ–∫—É—â–∏–π –∫—É—Ä—Å: <b style="letter-spacing: 2px;">{{item.exrate}}</b> —Ç–µ–Ω–≥–µ –∑–∞ 1 —Ä—É–±.</h3>
<input type="text" id="num2" placeholder="–°—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö"/> =
<input type="text" id="sum" readonly="readonly"/>
<input type="submit" value="–†–∞—Å—Å—á–∏—Ç–∞—Ç—å" id="btn" onclick="calc()"/>

<script>
    function calc() {
        let num1 = {{item.exrate}};
        let num2 = Number(document.querySelector("#num2").value);
        let sum = num1 * num2;
        sum = (sum).toFixed(2)
        document.getElementById("sum").value = sum;
    }
    var input = document.getElementById("num2");
    input.addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    event.preventDefault();
    document.getElementById("btn").click();
  }
});
</script>
{% endif %}
{% endfor %}
<div>
    <canvas id="myChart"></canvas>
</div>
<script>
  const data = {
    datasets: [{
      label: '–¢–µ–Ω–≥–µ –∑–∞ 1 —Ä—É–±.',
    }]
  };

  const config = {
  type: 'line',
  data: {
    datasets: [{
      lineTension: 0.3,
      label: ' ‚Ç∏ ',
      data: {
      {% for item in rows %}
'{{item.date|date_format("%d.%m.%Y")}}': {{item.exrate}},
{% endfor %}
      },
      backgroundColor: 'rgb(198, 218, 252, 0.5)',
      borderColor: 'rgb(66, 133, 244)',
      fill: true,
      pointRadius: 5,
      pointHoverRadius: 8,
      pointBackgroundColor: 'rgb(66, 133, 244)',
    },
    {
      label: ' ‚Ç∏ ',
      lineTension: 0.3,
      data: {
      {% for item in rows %}
'{{item.date|date_format("%d.%m.%Y")}}': {{item.exrate}},
{% endfor %}
      },
      borderColor: 'rgb(66, 133, 244)',
      backgroundColor: 'rgb(198, 218, 252, 0.5)',
      yAxisID: 'y1',
    }
    ]
},
  options: {
    aspectRatio: 3.3,
    responsive: true,
    interaction: {
      intersect: false,
      mode: 'index',
    },
    scales: {
      y: {
        type: 'linear',
        display: true,
        position: 'left',
      },
      y1: {
        type: 'linear',
        display: true,
        position: 'right',
        // grid line settings
        grid: {
          drawOnChartArea: false, // only want the grid lines for one axis to show up
        },
      },
    },
    plugins: {
    filler: {
        propagate: false,
      },
      title: {
        display: false,
        text: (ctx) => 'Tooltip position mode: ' + ctx.chart.options.plugins.tooltip.position,
      },
      legend: {
                display: false,
            },
      tooltip: {
                enabled: true,
                padding: 12,
                titleFont: {
                    size: 20
                            },
                bodyFont: {
                    size: 20
                            },
      },
    }
  }
};
  const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
console.log('–î–∞—Ç–∞: '+'{{tdate}}')
{% for item in rows|reverse %}
{% if loop.index <=1 %}
console.log('–ö—É—Ä—Å —Å —Å–∞–π—Ç–∞ –ü–° –ú–ò–†: '+{{rate}})
console.log('–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—É—Ä—Å: '+{{item.exrate}})
{% endif %}
{% endfor %}
console.log('–°—Ç–∞—Ç—É—Å: '+'{{presence}} '+'{{status}}')
console.log('')
console.log('–°—Å—ã–ª–∫–∞: '+'{{uri}}')
console.log('–û—Ç–≤–µ—Ç: '+'{{resp.status_code}}')
</script>
<br/>
<style>
    .container {
    display: flex; /* Use flexbox to create a two-column layout */
}

.column {
    flex: 1; /* Each column takes up an equal amount of space */
    padding: 10px;
    border: 0px #ccc;
    margin: 10px;
    font-size:2.5vh;
}
</style>
<div class="container">
    <div class="column">
        <h2>–†–µ–∫–ª–∞–º–∞</h2>
        <p>
            –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –≤—Å–µ—Ö, –º–µ–Ω—è –∑–æ–≤—É—Ç –†—É—Å—Ç–µ–º<br />
            –î–µ–ª–∞—é –æ–±–º–µ–Ω—ã –≤–∞–ª—é—Ç –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ —Ç–µ–ª–µ–≥—Ä–∞–º–º <a href="https://t.me/rublitengeobmen">@rublitengeobmen</a><br />
            –í—Å—Ç—É–ø–∞–π—Ç–µ –≤ –≥—Ä—É–ø–ø—É, –ø—É–±–ª–∏–∫—É—é —Ç–∞–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã<br /><br />

            üá∞üáø–û–ë–ú–ï–ù–ù–ò–ö KZ/RU<br />
            <a href="https://t.me/rublitengeobmen">@rublitengeobmen</a><br /><br />

            üá∞üáø–ü–†–û–î–ê–ú –¢–ï–ù–ì–ï –ó–ê –†–£–ë–õ–ò (–°–±–µ—Ä–±–∞–Ω–∫, –¢–∏–Ω—å–∫–æ—Ñ—Ñ)<br /><br />

            üá∑üá∫–ü–†–û–î–ê–ú –†–£–ë–õ–ò –ó–ê –¢–ï–ù–ì–ï<br />
            (–ö–∞—Å–ø–∏–π, –•–∞–ª—ã–∫, –ë–¶–ö)<br /><br />

            ü§ù –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è –ª–∏—á–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞ –≤ –≥. –ê—Å—Ç–∞–Ω–∞<br /><br />

            ‚úÖ –ß–∞—Ç-–≥—Ä—É–ø–ø–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –æ—Ç–∑—ã–≤–∞–º–∏ <a href="https://t.me/rublitengeobmen">@rublitengeobmen</a><br /><br />

            ‚úÖ –ö—É—Ä—Å –æ–±–º–µ–Ω–∞ —É—Ç–æ—á–Ω—è—Ç—å –≤ –õ–° –∞–¥–º–∏–Ω—É <a href="https://t.me/rustem_suleymenov">@rustem_suleymenov</a><br /><br />

            üî•–õ—é–±—ã–µ –æ–±—ä–µ–º—ã
        </p>
    </div>
    <div class="column">
        <h2>–û –ø—Ä–æ–µ–∫—Ç–µ:</h2>
        <p>
            –í –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —ç—Ç–æ–º—É —Å–µ—Ä–≤–∏—Å—É –ø–æ—è–≤–∏–ª—Å—è Telegram –ë–æ—Ç! <a href="https://t.me/mirexratebot">–°—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞</a><br /><br />
            –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å <a href="https://mironline.ru/support/list/kursy_mir/" target="_blank">–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ
            —Å–∞–π—Ç–∞ –ü–° "–ú–ò–†".</a> <br />

            –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ä–∞–∑ –≤ 4 —á–∞—Å–∞. <br />–§–æ—Ä–º—É–ª–∞ {% for item in rows|reverse %}
            {% if loop.index <=1 %} 1 / {{rate}} ‚âà {{item.exrate}}{% endif %}{% endfor %}<br />

        </p>
        <p class="border-donate">–•–æ—Ç–∏—Ç–µ –æ—Ç–±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, —Å–¥–µ–ª–∞–π—Ç–µ –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ:<br />
            Kaspi: +7 705 568 50 30 (Bakhti B.)</p>
        <p style="font-size:13pt;">–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è: <a href="https://t.me/pycarrot2">Telegram</a></p>
    </div>
</div>
</body>
</html>